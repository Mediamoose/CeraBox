<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>CeraBox - Lightbox for Mootools 1.4</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="The alternative lightbox build on MooTools 1.4.">
	<meta name="author" content="Ceramedia">

	<!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- Le styles -->
	<link href="assets/css/bootstrap.css" rel="stylesheet" />
	<style type="text/css">
		body {
			padding-top: 60px;
			padding-bottom: 40px;
		}
	</style>
	<link href="assets/css/bootstrap-responsive.css" rel="stylesheet" />
	<link href="assets/js/google-code-prettify/prettify.css" rel="stylesheet" />

	<!-- Le fav and touch icons -->
	<link rel="shortcut icon" href="assets/ico/favicon.ico" />
	<link rel="apple-touch-icon" href="assets/ico/apple-touch-icon.png" />

	<script src="assets/js/mootools/mootools-core-1.4.5.js"></script>

	<!-- Load CeraBox -->
	<script src="cerabox.js?1.3.8"></script>
	<link href="style/cerabox.css?1.3.8" rel="stylesheet" media="screen" />

</head>

<body>

<div class="container">

	<!-- Main hero unit for a primary marketing message or call to action -->
	<div class="hero-unit">
		<h1>CeraBox - Lightbox for Mootools 1.4</h1>
		<p style="padding:10px 0;">
			<a href="http://cerabox.net">CeraBox</a> is the alternative Lightbox build on MooTools 1.4, inspired by <a href="http://fancybox.net/">Fancybox.net</a>.<br />
			A JavaScript plugin used to display larger images (or other objects) without leaving the page using modal dialogs.
		</p>
		<p>
			<a class="btn btn-primary btn-large" href="http://cerabox.net">Check out the official page for more info &raquo;</a>
			<a class="btn btn-large" style="margin-left:20px;" href="https://github.com/ceramedia/CeraBox/zipball/1.3.8">Download CeraBox 1.3.8</a>
		</p>
	</div>

	<!-- Example row of columns -->
	<div class="row">
		<div class="span12">
			<h2>Advanced usage</h2>
			<p>Already know what the CeraBox is all about and just need some advanced usage examples? Then you came to the right place.</p>
		</div>
	</div>

	<hr/>

	<div class="row" id="iframe-onload">
		<div class="span4">
			<h3><a href="#iframe-onload" style="color:inherit;">Iframe onload test</a></h3>
			<p>We were asked if it was possible to get an event fired when an iframe was loaded and ready to be used. The problem was that the size of the iframe was still 1x1 when onload is fired.</p>
			<p>
				It seems that the onload event of the MooTools element <code>IFrame</code> is fired after the actual onload on the page.
				Because we cant change that we have to be creative, so I created an <code>onLoad</code> function on the page that will be loaded.
				And added an <code>onAnimationEnd</code> and <code>onChange</code> event to fire the function.
			</p>
			<p>
				<a href="assets/pages/onload.html" class="btn onload-test">Example 1</a>
				<a href="assets/pages/onload.html" class="btn onload-test" style="margin-left:10px;">Example 2</a>
			</p>
		</div>
		<div class="span8">
			<pre class="prettyprint linenums">
window.addEvent('domready',function(){
	$$('a.onload-test').cerabox({
		'events': {
			'onAnimationEnd': function(){
				try {
					$('cerabox').getElement('iframe').contentWindow.onLoad();
				}catch(err){}
			},
			'onChange': function(){
				try {
					$('cerabox').getElement('iframe').contentWindow.onLoad();
				}catch(err){}
			}
		}
	});
});</pre>

			<h3>Script from iframe &lt;head&gt;</h3>
			<pre class="prettyprint linenums">
var onLoad = function(){
	$('frame-size').set(
		'text',
		window.getSize().x + 'x' + window.getSize().y
	);
};</pre>
			<script>
			window.addEvent('domready',function(){
				$$('a.onload-test').cerabox({
					'events': {
						'onAnimationEnd': function(){
							try {
								$('cerabox').getElement('iframe').contentWindow.onLoad();
							}catch(err){}
						},
						'onChange': function(){
							try {
								$('cerabox').getElement('iframe').contentWindow.onLoad();
							}catch(err){}
						}
					}
				});
			});
			</script>
		</div>
	</div>

	<hr/>

	<footer>
		<p>&copy; <a href="http://ceramedia.net">Ceramedia</a> 2012</p>
	</footer>

</div> <!-- /container -->

<script src="assets/js/google-code-prettify/prettify.js"></script>
<script>
// make code pretty
window.prettyPrint && prettyPrint()
</script>

</body>
</html>
